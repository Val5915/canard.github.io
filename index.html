<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ğŸ¦† Code Canard</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <audio id="duckSound" src="sounds/duck.mp3" preload="auto"></audio>

  <body>
    <!-- blobs dÃ©coratifs -->
    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="blob b3"></div>
    <div id="confetti" class="confetti" aria-hidden="true"></div>

    <main class="wrap">
      <header class="header">
        <div class="brand">
          <div class="logo">ğŸ¦†</div>
          <div>
            <h1>Code Canard</h1>
            <p class="subtitle">
              Entre le code trouvÃ© sur le canard pour dÃ©couvrir une bÃªtise
              dâ€™enfance.
            </p>
          </div>
        </div>
        <div class="pill">100 canards â€¢ 100 souvenirs</div>
      </header>

      <section class="grid">
        <!-- entrÃ©e -->
        <div class="card">
          <h2>ğŸ” Entrer un code</h2>

          <div class="form">
            <input
              id="codeInput"
              placeholder="A1"
              maxlength="2"
              autocomplete="off"
            />
            <button id="btn">Afficher</button>
          </div>

          <p class="hint">Astuce : pas sensible Ã  la casse (a1 = A1)</p>
        </div>

        <!-- rÃ©sultat -->
        <div class="card result">
          <div class="result-header">
            <span class="badge" id="badge">â€”</span>
            <span class="status" id="status">PrÃªt</span>
          </div>

          <p class="message" id="message">
            Entre un code pour afficher une bÃªtise ğŸ«£
          </p>
          <p class="riddle" id="riddle">Quatre visages, un seul mot.</p>

          <div class="gallery" id="gallery">
            <img src="images/1.jpg" alt="Souvenir 1" />
            <img src="images/2.png" alt="Souvenir 2" />
            <img src="images/3.jpg" alt="Souvenir 3" />
            <img src="images/4.webp" alt="Souvenir 4" />
          </div>
        </div>
      </section>
    </main>

    <script>
      const riddle = document.getElementById("riddle");
      const duckSound = document.getElementById("duckSound");

      const gallery = document.getElementById("gallery");
      const data = {
        A1: "Quand jâ€™Ã©tais gardÃ© par papy et mamie je me relevÃ© pour regarder un peu la tÃ©lÃ© quand tu avais quittÃ© lâ€™appartement ils Ã©taient de mÃ¨che avec moi",
        B2: "Les pÃ¢tes câ€™est la vie",
        C3: "Au collÃ¨ge je me suis trompÃ© de bus jâ€™ai Ã©tÃ© dÃ©posÃ© Ã  Marcoing et je suis rentrÃ©e Ã  pied",
        D4: "Je donnais toujours mon assiette Ã  lâ€™autre pour quâ€™il lâ€™a termine en cachette quand je nâ€™aimais pas",
        E5: "Toujours des chaussettes avec des trous aux pieds",
        F6: "Dans la salle de jeu Ã  citÃ© AmÃ©rique on piquait des pÃ¢tes cru dans la rÃ©serve et je les faisais Â« cuir Â» Ã  lâ€™eau froide dans notre dÃ®nette pour quâ€™on mange des pÃ¢tes devant la tÃ©lÃ©",
        G7: "Jâ€™avais une collection de dinosaure et je disais que câ€™Ã©tait un musÃ©e",
        H8: "Mon sport est en pleine nature",
        I9: "jâ€™ai dÃ©jÃ  fait une bataille de boule de crottins",
        J0: "les rouleaux rouge et blanc jâ€™adore",
        K1: "a citÃ© AmÃ©rique je me pendais avec la ceinture du peignoirs Ã  mon lit en hauteur pour faire de la balanÃ§oire",
        L2: "jâ€™ai eu lâ€™idÃ©e de cacher les canard chez vous",
        M3: "on vous aimes",
        N4: "jâ€™adore les jeans baskets",
        O5: "18 novembre 2025",
        P6: "jâ€™adore les moments potager/semis",
        Q7: "on partira en vacances ensemble !",
        R8: "je dÃ©teste les brocolis",
        S9: "je dÃ©teste le choux fleurs",
        T0: "un Ã©tÃ© sans salade de pÃ¢tes nâ€™est pas un Ã©tÃ©",
        U1: "coco le meilleur Disney",
        V2: "jâ€™adore Disney",
        W3: "quand est ce quâ€™on retourne Ã  Disney ensemble ?",
        X4: "au collÃ¨ge je piquais les piÃ¨ces que je trouvais pour aller mâ€™acheter des bonbons au petit carrefour",
        Y5: "les sushis mon plat prÃ©fÃ©rÃ©",
        Z6: "sauce sucrÃ©e pour accompagner les maki",

        "1A": "je rÃªve dâ€™aller au Mexique",
        "2B": "a quand la prochaine maquette de noÃ«l ?",
        "3C": "je me souviendrais toujours ce fameux NoÃ«l Ã  noyelle au moment de mettre lâ€™Ã©toile dans le sapin",
        "4D": "jâ€™ai pris une cuite lors dâ€™un voyage scolaire au lycÃ©e",
        "5E": "jâ€™aime tout ce qui est Ã©sotÃ©rique",
        "6F": "jâ€™ai dÃ©jÃ  manifestÃ© au collÃ¨ge je ne sais mÃªme plus pour quoi câ€™Ã©tait juste cool",
        "7G": "au bout de combien de temps avez vous trouvÃ© ce canard ?",
        "8H": "jâ€™ai laissÃ© mourir mon lÃ©zard de compagnie en plein soleil Ã  citÃ© AmÃ©rique â€¦ le pauvre",
        "9I": "je sais que vous avez laissÃ© Ã©chapper mon lapin Ã  caudry",
        "0J": "câ€™est rigolo notre blague des canards ?",

        A2: "jâ€™adorais faire des cabanes",
        B3: "je dors encore avec mon doudou",
        C4: "jâ€™adore le dessin",
        D5: "jâ€™adore la biÃ¨re rouge",
        E6: "quand vous Ã©tiez en vacances je prenais le quad pour aller vider les brouettes de fumiers au fond Ã§a allait plus vite",
        F7: "un jour avec la voiture de maman jâ€™ai glissÃ© dans un rond point Ã  cause dâ€™une pluie verglaÃ§ante jâ€™ai griffÃ© la jante mais jâ€™ai rien dit",
        G8: "jâ€™ai dÃ©jÃ  volÃ© un A Ã  cora",
        H9: "tulutulu tututululu tulutulu tutululu",
        I0: "nous Ã©tions 4 pour les cacher",
        J1: "en manque dâ€™inspiration",
        K2: "celui qui dit qui lâ€™a fait je lui offre â€¦â€¦. un sandwich",
        L3: "jâ€™aimais faire du roller dans le garage Ã  citÃ© AmÃ©rique",
        M4: "invasion de canard",
        N5: "Jâ€™essayais de faire du feu avec des silex dans le jardin de noyelle",
        O6: "jâ€™Ã©tais missionnÃ© de chercher des paquets de prince a noyelle dans la cuisine en secret quand papa Ã©tait dans le canapÃ©",
        P7: "jâ€™Ã©tais toujours en retard au collÃ¨ge car on se faisait un foot avec BenoÃ®t dans la cours.",
        Q8: "les balles de ping pong disparaissait car jâ€™Ã©ssayais de faire des fumigÃ¨nes avec de lâ€™aluminium Ã  noyelle",
        R9: "jâ€™ai fais mon premier bisous chez Clara scudery",
        S0: "j'adore le chocolat",
        T1: "les cruditÃ©s câ€™est cool",
        U2: "jâ€™avais cassÃ© une voiturette en mÃ©tal dans la caisse sous le lit de la premiÃ¨re chambre chez mamie et papi",
        V3: "on a fait le rituel de la dame blanche a minuit avec Diego et joana (jâ€™ai eu trop peur)",
        W4: "je brÃ»lais des rouleaux de sopalin derriÃ¨re le cabanon a noyelle",
        X5: "jâ€™ai fait venir papa au city a noyelle car jâ€™avais mal au pouce et je nâ€™arrivait pas a rentrer",
        Y6: "Jâ€™essayais de brÃ»ler les haies en sapin derriÃ¨re le cabanon Ã  citÃ© AmÃ©rique.",
        Z7: "mon sport est a lâ€™extÃ©rieur lâ€™Ã©tÃ©",

        "1B": "jâ€™ai dÃ©jÃ  piquÃ© un peu de vodka a papa sans que Ã§a se voit pour faire une soirÃ©e",
        "2C": "les bonbons framboises j'adore.",
        "3D": "jâ€™ai essayÃ© de croquer une tige de rhubarbe a noyelle",
        "4E": "super Ã§a fait un canard en plus !",
        "5F": "des gniognios des kikis",
        "6G": "mon partenaire parle toujours fort",
        "7H": "ma chambre nâ€™est pas toujours en bordel rohh",
        "8I": "Ã§a se trouve vous avez trouver ce canard mais en 2028",
        "9J": "je nâ€™avais pas dâ€™idÃ©e pour celui la",
        "0A": "je ne veux pas plus de deux enfants",
        A3: "je suis tombÃ© en trotinette verte en bas de la raquette Ã  noyelle",
        B4: "je me suis dÃ©jÃ  mariÃ©",
        C5: "le matin nâ€™est pas pour moi",
        D6: "je passe pas mal de temps avec val",
        E7: "je joue du piano",
        F8: "taper dans un ballon me rend joyeux",
        G9: "jâ€™ai un nain pour meilleur ami",
        H0: "jâ€™ai un mi-orphelin pour meilleur ami",
        I1: "jâ€™ai eu environ 5 anesthÃ©sies",
        J2: "je suis nÃ©e le mois de la blague",
        K3: "jâ€™aurais fait 10 ans dâ€™Ã©tudes Ã  la fin",
        L4: "jâ€™ai toujours batue lâ€™autre au judo",
        M5: "donnez moi des lÃ©gos",
        N6: "jâ€™ai toujours voulu des triops",
        O7: "je me souviendrais quand Ã  noel Ã  noyelle jâ€™ai eu un jeu de bille sans lâ€™avoir commandÃ©",
        P8: "je suis tombÃ© en vÃ©lo dans le canal",
        Q9: "jâ€™ai traversÃ© le canal gelÃ© de masniÃ¨res",
        R0: "le policier municipal en scooter nous a couru aprÃ¨s Ã  masnieres quand on lanÃ§ait des cailloux dans le canal ( on sâ€™est Ã©vadÃ© )",
        S1: "on a deja fait une tentative de manif contre la rÃ©forme du bac en mettant un cadenas a vÃ©lo de la grille du college ( Ã§a a durÃ© 20 minutes quand mÃªme)",
        T2: "jâ€™ai dÃ©jÃ  fait une partie de sonnette mais en frappant la porte, la vitre sâ€™est brisÃ©",
        U3: "quand jâ€™avais fait ma 20em heure de conduite, vous Ã©tiez en vacance, jâ€™ai pris la voiture pour aller au lycÃ©e une journÃ©e",
        V4: "on escaladait les grands sapins a cotÃ© du city Ã  noyelle",
        W5: "jâ€™ai eu ma premiÃ¨re cuite vodka orange a 15ans",
        X6: "sauce salÃ© pour les makis !!!!",
        Y7: "jâ€™ai jetÃ© la bague dans le buisson",
        Z8: "jâ€™ai mieux tenu le champagne dominicain que papa Ã  saona (on a eu droit Ã  un guide en rentrant lol)",
        "1C": "On escalait tout ce quâ€™on trouvait dans noyelle avec un mec de la rue sorel",
        "2D": "ğŸ‰ Bravo : tu viens de trouver le 100e canard !",
      };

      const input = document.getElementById("codeInput");
      const button = document.getElementById("btn");
      const badge = document.getElementById("badge");
      const status = document.getElementById("status");
      const message = document.getElementById("message");
      const confetti = document.getElementById("confetti");

      function normalize(v) {
        return (v || "").trim().toUpperCase();
      }

      function burstConfetti() {
        // nettoie l'ancien
        confetti.innerHTML = "";
        confetti.classList.remove("run");
        void confetti.offsetWidth; // force reflow

        // crÃ©e des confettis
        const pieces = 200;
        for (let i = 0; i < pieces; i++) {
          const p = document.createElement("i");
          p.style.left = Math.random() * 100 + "vw";
          p.style.animationDelay = Math.random() * 0.25 + "s";
          p.style.transform = `translate3d(0,0,0) rotate(${Math.random() * 360}deg)`;
          p.style.setProperty("--x", Math.random() * 240 - 120 + "px");
          p.style.setProperty("--r", Math.random() * 720 - 360 + "deg");
          p.style.setProperty("--d", 2200 + Math.random() * 1600 + "ms"); // durÃ©e
          p.style.opacity = (0.7 + Math.random() * 0.3).toFixed(2);
          p.style.width = 6 + Math.random() * 6 + "px";
          p.style.height = 10 + Math.random() * 10 + "px";
          confetti.appendChild(p);
        }

        confetti.classList.add("run");

        // supprime aprÃ¨s
        setTimeout(() => {
          confetti.classList.remove("run");
          confetti.innerHTML = "";
        }, 5200);
      }

      function playDuck() {
        duckSound.currentTime = 0; // permet de rejouer rapidement
        duckSound.play().catch(() => {
          // certains navigateurs bloquent si pas d'interaction
        });
      }

      function celebrate() {
        // petite â€œvibrationâ€ sur la carte rÃ©sultat
        const card = document.querySelector(".card.result");
        card.classList.remove("celebrate");
        void card.offsetWidth;
        card.classList.add("celebrate");

        burstConfetti();
      }

      function show() {
        const code = normalize(input.value);
        badge.textContent = code || "â€”";

        // reset
        gallery.classList.remove("show");
        riddle.classList.remove("show");

        if (!code) {
          status.textContent = "PrÃªt";
          message.textContent = "Entre un code pour afficher une bÃªtise ğŸ«£";
          return;
        }

        // ğŸ‰ CAS SPÃ‰CIAL
        if (code === "3D") {
          status.textContent = "Souvenir spÃ©cial ğŸ“¸";
          message.textContent = "Un canard un peu particulierâ€¦";
          riddle.classList.add("show"); // ğŸ‘ˆ ICI
          gallery.classList.add("show");
          celebrate();
          playDuck();
          return;
        }

        // cas normal
        if (data[code]) {
          status.textContent = "TrouvÃ© âœ…";
          message.textContent = data[code];
          celebrate();
          playDuck();
        } else {
          status.textContent = "Inconnu ğŸ¤”";
          message.textContent = "Ce code ne correspond Ã  aucun canard ğŸ˜„";
        }
      }

      button.addEventListener("click", show);
      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") show();
      });
    </script>
  </body>
</html>
